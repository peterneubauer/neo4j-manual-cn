[[tutorials-java-embedded-index]]
带有索引的用户数据库
========================

你有了一个用户数据库，并且希望通过用户名查询用户。
首先，这是一个我们想创建的数据库结构：
	
image::users.png[title="所有用户的节点图", scaledwidth="100%"]

起点（0）与用户索引节点相连，而真正的用户都挂在用户索引节点下面，方便归类。

[TIP]
源代码下载：
https://github.com/neo4j/community/blob/{neo4j-git-tag}/embedded-examples/src/main/java/org/neo4j/examples/EmbeddedNeo4jWithIndexing.java[EmbeddedNeo4jWithIndexing.java]

首先，我们定义我们将用到的关系类型：

[snippet,java]
----
component=neo4j-examples
source=org/neo4j/examples/EmbeddedNeo4jWithIndexing.java
classifier=sources
tag=createRelTypes
----

然后，我们创建两个有用的方法来帮助处理用户名并将用户新增到数据库中：
    
[snippet,java]
----
component=neo4j-examples
source=org/neo4j/examples/EmbeddedNeo4jWithIndexing.java
classifier=sources
tag=helperMethods
----

下面，我们将启动数据库：

[snippet,java]
----
component=neo4j-examples
source=org/neo4j/examples/EmbeddedNeo4jWithIndexing.java
classifier=sources
tag=startDb
----

是时候新增用户了：
    
[snippet,java]
----
component=neo4j-examples
source=org/neo4j/examples/EmbeddedNeo4jWithIndexing.java
classifier=sources
tag=addUsers
----

下面演示了如何通过用户ID找到用户：

[snippet,java]
----
component=neo4j-examples
source=org/neo4j/examples/EmbeddedNeo4jWithIndexing.java
classifier=sources
tag=findUser
----


